@page
@model utad.reFresh.core.Pages.IndexModel
@inject Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper Html

@{
    var request = Html.ViewContext.HttpContext.Request;
    var apkUrl = $"{request.Scheme}://{request.Host}/apks/latest.apk";
}

<style>
    body {
        background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
        min-height: 100vh;
        font-family: 'Segoe UI', Arial, sans-serif;
        margin: 0;
        padding: 0;
    }

    .main-content {
        background: #f9fff9;
        border-radius: 22px;
        box-shadow: 0 4px 24px rgba(56, 142, 60, 0.10);
        padding: 3.5rem 3.5rem 2.5rem 3.5rem;
        margin: 3rem 0;
        max-width: 700px;
        width: 100%;
        text-align: center;
        border: 2.5px dashed #a5d6a7; /* picotado */
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    h1 {
        color: #388e3c;
        font-weight: 700;
        margin-bottom: 1.2rem;
        font-size: 2.5rem;
        letter-spacing: 1px;
    }

    .lead {
        color: #4e944f;
        font-size: 1.25rem;
        margin-bottom: 2.2rem;
        font-weight: 500;
        line-height: 1.7;
        max-width: 540px;
    }

    .download-section {
        display: flex;
        flex-direction: column; /* agora em coluna */
        gap: 1.2rem; /* espaçamento vertical */
        align-items: center;
        justify-content: center;
        margin-bottom: 1.5rem;
        flex-wrap: wrap;
    }

    .download-link {
        display: inline-block;
        font-size: 1.12rem;
        color: #fff;
        background: linear-gradient(90deg, #81c784 0%, #388e3c 100%);
        border-radius: 10px;
        padding: 0.8rem 2.2rem;
        text-decoration: none;
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(56, 142, 60, 0.08);
        transition: background 0.2s, box-shadow 0.2s;
        border: none;
        margin-bottom: 0;
    }

        .download-link:hover {
            background: linear-gradient(90deg, #66bb6a 0%, #2e7031 100%);
            box-shadow: 0 4px 16px rgba(56, 142, 60, 0.13);
            color: #fff;
        }

    #qrcode {
        background: #e8f5e9;
        padding: 1rem;
        border-radius: 12px;
        box-shadow: 0 1px 4px rgba(56, 142, 60, 0.07);
        display: inline-block;
        margin: 0;
        border: 2px dashed #81c784; /* picotado */
    }

    .qr-instruction {
        font-size: 1.05em;
        color: #4e944f;
        margin-top: 1.2rem;
        margin-bottom: 0.5rem;
    }

    .leaf-icon {
        font-size: 2.5rem;
        color: #66bb6a;
        margin-bottom: 1.2rem;
        display: block;
    }
</style>

    <span class="leaf-icon">🌱</span>
    <h1>Bem-vindo ao reFresh</h1>
    <p class="lead">
        O reFresh é uma aplicação criada por amantes da natureza e tecnologia, dedicada a promover um estilo de vida mais saudável, sustentável e conectado.<br />
        Baixe o app e faça parte de uma comunidade que valoriza escolhas ecológicas e o bem-estar!
    </p>
    <div class="download-section">
        <div id="qrcode"></div>
        <a class="download-link" href="@apkUrl" download>
            Baixar app Android
        </a>
    </div>
    <div class="qr-instruction">
        Escaneie o QR Code para instalar diretamente no seu Android.
    </div>

@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        new QRCode(document.getElementById("qrcode"), {
            text: "@apkUrl",
            width: 120,
            height: 120
        });
    </script>
}
